# -*- coding: utf-8 -*-
"""
Created on Fri May 14 08:20:13 2021

@author: fkvzl

E-mail:fkvzl@qq.com

主题：python笔记
思路：

"""
【学习路线】
1【ok】回测案例实现
2【ing】第一个回测策略实现

【基础语法】
1、dataframe.count()：用来统计每行/每列的数量，精确级别
2、取列，用df.列名1，或者df['列名1'] ;拓展：df['K']表示新增一列K字段
3、取行，用loc
3、上交所6开头SH，其他SZ
4、tushare返回的是df格式，追加字段['ts_code']返回的就是series格式，追加.values返回nadarray格式,追加.tolist()返回list
5、df.empty
6、self.getdatabyname(“name”)
【技术指标】
macd跟kdj要自己写，talib中默认前33数值为NA

[金工]
华泰金工

20211007
重新拉代码用如下 git checkout -- backplat_dell.py 
解决self.buy存在数量非整数，用//向下取余对self.buy的size定义解决，打印的时候注意%d跟%s区别，d会截取整数

20211110
利用continue解决空xls引起的脏数据

20211129before
利用len(df)筛选数据条数
利用os读取解决本地记录真实性
注释bt.indicators，plot恢复框架版，临时绕过除数为0问题
使用self.getposition.size()函数解决无限卖出bug

20211129
优化逻辑：各股票各卖各的。使用dict，新建holday[d]字段登记每个股票的卖出bar
优化前：19年 26%；20年 9%；夏普 
优化后

20211204
实现各股票单独卖出逻辑。采用holday[d]跟len(self)的关联
使用对象的__dict__方法打印该对象名下所有变量
学习pyfolio